{"version":3,"sources":["../../src/js/scripts.js"],"names":["document","addEventListener","console","log","Date","prototype","toDateInputValue","local","setMinutes","getMinutes","getTimezoneOffset","toJSON","slice","getElementById","value","dateSelector","todaysDate","currentDate","gridArea","querySelector","articleNumber","url","apiKey","imageCount","resultsArray","alert","incDecDate","displayArticles","clearPrevious","querySelectorAll","length","elems","forEach","element","remove","incDec","date","result","setDate","getDate","toISOString","createDateArray","articleCount","dates","push","newDate","dateArray","addRemoteDataToArray","reverse","createNewElements","setTimeout","showArticles","classList","add","results","index","fetch","then","response","json","data","assemble","insertAdjacentHTML","postUrl","hdurl","articleTitleContent","title","articleImageContent","placeHolderImage","placeHolderImageAreaDimensions","imageLink","titleLink","articleTitleArea","articleImageArea","innerHTML","setAttribute"],"mappings":"AAAA;;AAEAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAY;AACxDC,EAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;;AAEAC,EAAAA,IAAI,CAACC,SAAL,CAAeC,gBAAf,GAAkC,YAAY;AAC5C,QAAIC,KAAK,GAAG,IAAIH,IAAJ,CAAS,IAAT,CAAZ;AACAG,IAAAA,KAAK,CAACC,UAAN,CAAiB,KAAKC,UAAL,KAAoB,KAAKC,iBAAL,EAArC;AACA,WAAOH,KAAK,CACTI,MADI,GAEJC,KAFI,CAEE,CAFF,EAEK,EAFL,CAAP;AAGD,GAND;;AAOAZ,EAAAA,QAAQ,CACLa,cADH,CACkB,eADlB,EAEGC,KAFH,GAEW,IAAIV,IAAJ,GAAWE,gBAAX,EAFX,CAVwD,CAcxD;;AACA,MAAMS,YAAY,GAAGf,QAAQ,CAACa,cAAT,CAAwB,eAAxB,CAArB;AACA,MAAMG,UAAU,GAAGD,YAAY,CAACD,KAAhC;AACA,MAAIG,WAAW,GAAGF,YAAY,CAACD,KAA/B;AACA,MAAMI,QAAQ,GAAGlB,QAAQ,CAACmB,aAAT,CAAuB,kBAAvB,CAAjB;AACA,MAAMC,aAAa,GAAGpB,QAAQ,CAACmB,aAAT,CAAuB,iBAAvB,CAAtB;AACA,MAAME,GAAG,GAAG,sCAAZ;AACA,MAAMC,MAAM,GAAG,kDAAf;AACA,MAAIC,UAAU,GAAG,CAAjB;AACA,MAAIC,YAAY,GAAG,EAAnB,CAvBwD,CAyBxD;;AACAxB,EAAAA,QAAQ,CACLa,cADH,CACkB,WADlB,EAEGZ,gBAFH,CAEoB,OAFpB,EAE6B,YAAY;AACrC,QAAIgB,WAAW,IAAID,UAAnB,EAA+B;AAC7BS,MAAAA,KAAK,CAAC,0CAAD,CAAL;AACD,KAFD,MAEO;AACLR,MAAAA,WAAW,GAAGS,UAAU,CAAC,CAAD,EAAIT,WAAJ,CAAxB;AACAU,MAAAA,eAAe;AAChB;AACF,GATH;AAWA3B,EAAAA,QAAQ,CACLa,cADH,CACkB,eADlB,EAEGZ,gBAFH,CAEoB,OAFpB,EAE6B,YAAY;AACrCc,IAAAA,YAAY,CAACD,KAAb,GAAqBY,UAAU,CAAC,CAAC,CAAF,EAAKX,YAAY,CAACD,KAAlB,CAA/B;AACAa,IAAAA,eAAe;AAChB,GALH;AAOA3B,EAAAA,QAAQ,CACLa,cADH,CACkB,eADlB,EAEGZ,gBAFH,CAEoB,OAFpB,EAE6B,YAAY;AACrC0B,IAAAA,eAAe;AAChB,GAJH;AAMAA,EAAAA,eAAe,GAlDyC,CAoDxD;;AACA,WAASC,aAAT,GAAyB;AACvB,QAAI5B,QAAQ,CAAC6B,gBAAT,CAA0B,SAA1B,EAAqCC,MAArC,GAA8C,CAAlD,EAAqD;AACnD,UAAIC,KAAK,GAAG/B,QAAQ,CAAC6B,gBAAT,CAA0B,SAA1B,CAAZ;AACAE,MAAAA,KAAK,CAACC,OAAN,CAAc,UAAAC,OAAO,EAAI;AACvBA,QAAAA,OAAO,CAACC,MAAR;AACD,OAFD;AAGD;AACF;;AAED,WAASR,UAAT,CAAoBS,MAApB,EAA4BC,IAA5B,EAAkC;AAChC,QAAIC,MAAM,GAAG,IAAIjC,IAAJ,CAASgC,IAAT,CAAb;AACAC,IAAAA,MAAM,CAACC,OAAP,CAAeD,MAAM,CAACE,OAAP,KAAmBJ,MAAlC;AACAE,IAAAA,MAAM,GAAGA,MAAM,CACZG,WADM,GAEN5B,KAFM,CAEA,CAFA,EAEG,EAFH,CAAT;AAGA,WAAOyB,MAAP;AACD;;AAED,WAASI,eAAT,GAA2B;AACzB,QAAIC,YAAY,GAAGtB,aAAa,CAACN,KAAjC;AACA,QAAIsB,IAAI,GAAGrB,YAAY,CAACD,KAAxB;AACA,QAAI6B,KAAK,GAAG,EAAZ;AACAA,IAAAA,KAAK,CAACC,IAAN,CAAWR,IAAX;AACAM,IAAAA,YAAY;;AACZ,WAAOA,YAAY,GAAG,CAAtB,EAAyB;AACvB,UAAIG,OAAO,GAAGnB,UAAU,CAAC,CAAC,CAAF,EAAKU,IAAL,CAAxB;AACAO,MAAAA,KAAK,CAACC,IAAN,CAAWC,OAAX;AACAH,MAAAA,YAAY;AACZN,MAAAA,IAAI,GAAGS,OAAP;AACD;;AACD,WAAOF,KAAP;AACD;;AAED,WAAShB,eAAT,GAA2B;AACzBC,IAAAA,aAAa;AACbL,IAAAA,UAAU,GAAG,CAAb;AACA,QAAIuB,SAAS,GAAGL,eAAe,EAA/B;AACAjB,IAAAA,YAAY,GAAGuB,oBAAoB,CAACD,SAAD,CAAnC;AACAtB,IAAAA,YAAY,GAAGA,YAAY,CAACwB,OAAb,EAAf;AACA9C,IAAAA,OAAO,CAACC,GAAR,CAAYqB,YAAZ;AACAA,IAAAA,YAAY,CAACQ,OAAb,CAAqB,UAAAC,OAAO,EAAI;AAC9BgB,MAAAA,iBAAiB,CAAChB,OAAD,CAAjB;AACD,KAFD;AAGAiB,IAAAA,UAAU,CAAC,YAAM;AACfC,MAAAA,YAAY;AACb,KAFS,EAEP,IAFO,CAAV;AAGD;;AAED,WAASA,YAAT,GAAwB;AACtBnD,IAAAA,QAAQ,CACL6B,gBADH,CACoB,SADpB,EAEGG,OAFH,CAEW,UAAAC,OAAO;AAAA,aAAIA,OAAO,CAACmB,SAAR,CAAkBC,GAAlB,CAAsB,MAAtB,CAAJ;AAAA,KAFlB;AAGD;;AAED,WAASN,oBAAT,CAA8BD,SAA9B,EAAyC;AACvC,QAAIQ,OAAO,GAAG,EAAd;;AADuC,+BAE9BC,KAF8B;AAGrC,UAAMnB,IAAI,GAAGU,SAAS,CAACS,KAAD,CAAtB;AACAC,MAAAA,KAAK,CAACnC,GAAG,GAAGC,MAAN,GAAe,QAAf,GAA0Bc,IAA3B,CAAL,CAAsCqB,IAAtC,CAA2C,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAqB,UAAUG,IAAV,EAAgB;AAC1FN,UAAAA,OAAO,CAACC,KAAD,CAAP,GAAiBK,IAAjB;AACD,SAFsD,CAAJ;AAAA,OAAnD;AAJqC;;AAEvC,SAAK,IAAIL,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGT,SAAS,CAAChB,MAAtC,EAA8CyB,KAAK,EAAnD,EAAuD;AAAA,YAA9CA,KAA8C;AAKtD;;AACD,WAAOD,OAAP;AACD,GApHuD,CAqHxD;AACA;AACA;;;AAEA,WAASO,QAAT,GAAoB;AAClBrC,IAAAA,YAAY,CAACQ,OAAb,CAAqB,UAAAC,OAAO,EAAI;AAC9BgB,MAAAA,iBAAiB,CAAChB,OAAD,CAAjB;AACA/B,MAAAA,OAAO,CAACC,GAAR,CAAY8B,OAAZ;AACD,KAHD;AAID;;AAED,WAASgB,iBAAT,CAA2BW,IAA3B,EAAiC;AAC/B1C,IAAAA,QAAQ,CAAC4C,kBAAT,CAA4B,WAA5B,EAAyC,yBAAyBvC,UAAzB,GAAsC,qDAAtC,GAA8FA,UAA9F,GAA2G,2DAA3G,GAAyKA,UAAzK,GAAsL,+DAAtL,GAAwPA,UAAxP,GAAqQ,oCAArQ,GAA4SA,UAA5S,GAAyT,qCAAlW;AAEA,QAAIwC,OAAO,GAAGH,IAAI,CAACI,KAAnB;AACA,QAAIC,mBAAmB,GAAGL,IAAI,CAACM,KAA/B;AACA,QAAIC,mBAAmB,GAAGP,IAAI,CAACvC,GAA/B;AACA,QAAI+C,gBAAgB,GAAG,mBAAvB;AACA,QAAIC,8BAA8B,GAAG,oCAArC;AACA,QAAIC,SAAS,GAAGtE,QAAQ,CAACmB,aAAT,CAAuB,gBAAgBI,UAAvC,CAAhB;AACA,QAAIgD,SAAS,GAAGvE,QAAQ,CAACmB,aAAT,CAAuB,gBAAgBI,UAAvC,CAAhB;AACA,QAAIiD,gBAAgB,GAAGxE,QAAQ,CAACa,cAAT,CAAwB,UAAUU,UAAlC,CAAvB;AACA,QAAIkD,gBAAgB,GAAGzE,QAAQ,CAACa,cAAT,CAAwB,QAAQU,UAAhC,CAAvB;AAEAiD,IAAAA,gBAAgB,CAACE,SAAjB,GAA6BT,mBAA7B;AACAK,IAAAA,SAAS,CAACK,YAAV,CAAuB,MAAvB,EAA+BZ,OAA/B;AACAQ,IAAAA,SAAS,CAACI,YAAV,CAAuB,MAAvB,EAA+BZ,OAA/B;;AAEA,QAAII,mBAAmB,IAAI,IAA3B,EAAiC;AAC/BM,MAAAA,gBAAgB,CAACE,YAAjB,CAA8B,KAA9B,EAAqCR,mBAArC;AACD,KAFD,MAEO;AACLM,MAAAA,gBAAgB,CACbE,YADH,CACgB,OADhB,EACyBN,8BADzB,EAEGM,YAFH,CAEgB,KAFhB,EAEuBP,gBAFvB;AAGD;;AACD7C,IAAAA,UAAU;AACX;AACF,CA1JD","sourcesContent":["'use strict';\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n  console.log('DOM fully loaded and parsed');\r\n\r\n  Date.prototype.toDateInputValue = function () {\r\n    let local = new Date(this);\r\n    local.setMinutes(this.getMinutes() - this.getTimezoneOffset());\r\n    return local\r\n      .toJSON()\r\n      .slice(0, 10);\r\n  };\r\n  document\r\n    .getElementById('date-selector')\r\n    .value = new Date().toDateInputValue();\r\n\r\n  // variables\r\n  const dateSelector = document.getElementById('date-selector');\r\n  const todaysDate = dateSelector.value;\r\n  let currentDate = dateSelector.value;\r\n  const gridArea = document.querySelector('#image-grid-area');\r\n  const articleNumber = document.querySelector('#article-number');\r\n  const url = 'https://api.nasa.gov/planetary/apod?';\r\n  const apiKey = 'api_key=ZyAZ65TRjYZ4Sto72jlrgtOieAXPJuVymJFrf0RS';\r\n  let imageCount = 1;\r\n  let resultsArray = [];\r\n\r\n  //Events\r\n  document\r\n    .getElementById('next-page')\r\n    .addEventListener('click', function () {\r\n      if (currentDate == todaysDate) {\r\n        alert('you are viewing the most recent pictures');\r\n      } else {\r\n        currentDate = incDecDate(1, currentDate);\r\n        displayArticles();\r\n      }\r\n    });\r\n\r\n  document\r\n    .getElementById('previous-page')\r\n    .addEventListener('click', function () {\r\n      dateSelector.value = incDecDate(-1, dateSelector.value);\r\n      displayArticles();\r\n    });\r\n\r\n  document\r\n    .getElementById('show-articles')\r\n    .addEventListener('click', function () {\r\n      displayArticles();\r\n    });\r\n\r\n  displayArticles();\r\n\r\n  // functions\r\n  function clearPrevious() {\r\n    if (document.querySelectorAll('article').length > 0) {\r\n      var elems = document.querySelectorAll('article');\r\n      elems.forEach(element => {\r\n        element.remove();\r\n      });\r\n    }\r\n  }\r\n\r\n  function incDecDate(incDec, date) {\r\n    let result = new Date(date);\r\n    result.setDate(result.getDate() + incDec);\r\n    result = result\r\n      .toISOString()\r\n      .slice(0, 10);\r\n    return result;\r\n  }\r\n\r\n  function createDateArray() {\r\n    let articleCount = articleNumber.value;\r\n    let date = dateSelector.value;\r\n    let dates = [];\r\n    dates.push(date);\r\n    articleCount--;\r\n    while (articleCount > 0) {\r\n      let newDate = incDecDate(-1, date);\r\n      dates.push(newDate);\r\n      articleCount--;\r\n      date = newDate;\r\n    }\r\n    return dates;\r\n  }\r\n\r\n  function displayArticles() {\r\n    clearPrevious();\r\n    imageCount = 1;\r\n    let dateArray = createDateArray();\r\n    resultsArray = addRemoteDataToArray(dateArray);\r\n    resultsArray = resultsArray.reverse();\r\n    console.log(resultsArray);\r\n    resultsArray.forEach(element => {\r\n      createNewElements(element);\r\n    });\r\n    setTimeout(() => {\r\n      showArticles();\r\n    }, 1200);\r\n  }\r\n\r\n  function showArticles() {\r\n    document\r\n      .querySelectorAll('article')\r\n      .forEach(element => element.classList.add('show'));\r\n  }\r\n\r\n  function addRemoteDataToArray(dateArray) {\r\n    let results = [];\r\n    for (let index = 0; index < dateArray.length; index++) {\r\n      const date = dateArray[index];\r\n      fetch(url + apiKey + '&date=' + date).then(response => response.json().then(function (data) {\r\n        results[index] = data;\r\n      }));\r\n    }\r\n    return results;\r\n  }\r\n  // function getRemoteData(date) {   fetch(url + apiKey + '&date=' + date, {})\r\n  // .then(response => response.json())     .then(function(data) {\r\n  // createNewElements(data);     }); }\r\n\r\n  function assemble() {\r\n    resultsArray.forEach(element => {\r\n      createNewElements(element);\r\n      console.log(element);\r\n    });\r\n  }\r\n\r\n  function createNewElements(data) {\r\n    gridArea.insertAdjacentHTML('beforeend', '<article id=\"article' + imageCount + '\" class=\"article\"><a target=\"_blank\" id=\"image-link' + imageCount + '\" data-fancybox=\"gallery\" class=\"image-link\"><img id=\"img' + imageCount + '\" src=\"\" class=\"images\"></a><a target=\"_blank\" id=\"title-link' + imageCount + '\" class=\"\"title-link><h5 id=\"title' + imageCount + '\" class=\"title\"></h5></a></article>');\r\n\r\n    let postUrl = data.hdurl;\r\n    let articleTitleContent = data.title;\r\n    let articleImageContent = data.url;\r\n    let placeHolderImage = '/images/space.jpg';\r\n    let placeHolderImageAreaDimensions = \"width: '25%', 'margin-top': '15px'\";\r\n    let imageLink = document.querySelector('#image-link' + imageCount);\r\n    let titleLink = document.querySelector('#title-link' + imageCount);\r\n    let articleTitleArea = document.getElementById('title' + imageCount);\r\n    let articleImageArea = document.getElementById('img' + imageCount);\r\n\r\n    articleTitleArea.innerHTML = articleTitleContent;\r\n    imageLink.setAttribute('href', postUrl);\r\n    titleLink.setAttribute('href', postUrl);\r\n\r\n    if (articleImageContent != null) {\r\n      articleImageArea.setAttribute('src', articleImageContent);\r\n    } else {\r\n      articleImageArea\r\n        .setAttribute('style', placeHolderImageAreaDimensions)\r\n        .setAttribute('src', placeHolderImage);\r\n    }\r\n    imageCount++;\r\n  }\r\n});\r\n"],"file":"scripts.js"}