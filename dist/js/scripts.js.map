{"version":3,"sources":["../../scripts.js"],"names":["$","document","ready","click","addDays","displayArticles","hideControls","hover","find","addClass","removeClass","doucment","querySelector","hide","clearClones","querySelectorAll","length","elems","forEach","element","remove","days","selectedDate","value","result","Date","setDate","getDate","toISOString","slice","dateArray","currentDate","url","apiKey","imageCount","fetch","api_key","date","then","response","json","data","insertAdjacentHTML","postUrl","hdurl","articleTitleContent","title","articleImageContent","imageSize","placeHolderImage","imageAreaDimensions","width","placeHolderImageAreaDimensions","imageLink","titleLink","articleTitleArea","articleImageArea","html","setAttribute","css","attr"],"mappings":"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","file":"scripts.js","sourcesContent":["// import \"babel-polyfill\";\r\n// import \"whatwg-fetch\";\r\n// import Promise from \"promise-polyfill\";\r\n// // To add to window\r\n// if (!window.Promise) {\r\n//     window.Promise = Promise;\r\n// }\r\n\r\n$(document).ready(function() {\r\n    // Event handlers\r\n\r\n    $(\"#next-page\").click(function() {\r\n        addDays(1);\r\n        displayArticles();\r\n    });\r\n\r\n    $(\"#previous-page\").click(function() {\r\n        addDays(-1);\r\n        displayArticles();\r\n    });\r\n\r\n    $(\"#show-articles\").click(function() {\r\n        displayArticles();\r\n    });\r\n\r\n    $(\"#hide-controls\").click(function() {\r\n        hideControls();\r\n    });\r\n\r\n    $(\".article\").hover(\r\n        function() {\r\n            $(this)\r\n                .find(\"a\")\r\n                .addClass(\"highlighted\");\r\n        },\r\n        function() {\r\n            $(this)\r\n                .find(\"a\")\r\n                .removeClass(\"highlighted\");\r\n        }\r\n    );\r\n\r\n    displayArticles();\r\n\r\n    // functions\r\n\r\n    function hideControls() {\r\n        doucment.querySelector(\"#user-interface\").hide();\r\n    }\r\n\r\n    function clearClones() {\r\n        if (document.querySelectorAll(\"article\").length > 0) {\r\n            var elems = document.querySelectorAll(\"article\");\r\n            elems.forEach(element => {\r\n                element.remove();\r\n            });\r\n        }\r\n    }\r\n\r\n    function addDays(days) {\r\n        let selectedDate = document.querySelector(\"#date-selector\").value;\r\n        let result = new Date(selectedDate);\r\n        result.setDate(result.getDate() + days);\r\n        result = result.toISOString().slice(0, 10);\r\n        document.querySelector(\"#date-selector\").value = result;\r\n    }\r\n\r\n    function displayArticles() {\r\n        //Clear previous article element clones if any are present...\r\n        clearClones();\r\n        let dateArray = [\r\n            \"2018-06-14\",\r\n            \"2018-06-15\",\r\n            \"2018-06-16\",\r\n            \"2018-06-17\"\r\n        ];\r\n        let currentDate =\r\n            \"date=\" + document.querySelector(\"#date-selector\").value;\r\n        let url = \"https://api.nasa.gov/planetary/apod?\";\r\n        let apiKey = \"api_key=ZyAZ65TRjYZ4Sto72jlrgtOieAXPJuVymJFrf0RS\";\r\n        let imageCount = 1;\r\n\r\n        dateArray.forEach(element => {\r\n            fetch(url + apiKey + \"&\" + \"date=\" + element, {\r\n                api_key: \"ZyAZ65TRjYZ4Sto72jlrgtOieAXPJuVymJFrf0RS\",\r\n                date: currentDate\r\n            })\r\n                .then(response => response.json())\r\n                .then(function(data) {\r\n                    document\r\n                        .querySelector(\"#image-grid-area\")\r\n                        .insertAdjacentHTML(\r\n                            \"beforeend\",\r\n                            '<article id=\"article' +\r\n                                imageCount +\r\n                                '\" class=\"article\"><a target=\"_blank\" id=\"image-link' +\r\n                                imageCount +\r\n                                '\" data-fancybox=\"gallery\" class=\"image-link\"><img id=\"img' +\r\n                                imageCount +\r\n                                '\" src=\"\" class=\"images\"></a><a target=\"_blank\" id=\"title-link' +\r\n                                imageCount +\r\n                                '\" class=\"\"title-link><h5 id=\"title' +\r\n                                imageCount +\r\n                                '\" class=\"title\"></h5></a></article>'\r\n                        );\r\n\r\n                    let postUrl = data.hdurl;\r\n                    let articleTitleContent = data.title;\r\n                    let articleImageContent = data.url;\r\n                    let imageSize = \"w=600&h=400&fit=1\";\r\n                    let placeHolderImage = \"space.jpg\";\r\n                    let imageAreaDimensions = {\r\n                        width: \"100%\",\r\n                        \"margin-top\": \"0px\"\r\n                    };\r\n                    let placeHolderImageAreaDimensions = {\r\n                        width: \"25%\",\r\n                        \"margin-top\": \"15px\"\r\n                    };\r\n\r\n                    let imageLink = document.querySelector(\r\n                        \"#image-link\" + imageCount + \"\"\r\n                    );\r\n                    let titleLink = document.querySelector(\r\n                        \"#title-link\" + imageCount + \"\"\r\n                    );\r\n                    let articleTitleArea = $(\"#title\" + imageCount + \"\");\r\n                    let articleImageArea = $(\"#img\" + imageCount + \"\");\r\n\r\n                    articleTitleArea.html(articleTitleContent);\r\n                    imageLink.setAttribute(\"href\", postUrl);\r\n                    titleLink.setAttribute(\"href\", postUrl);\r\n\r\n                    if (articleImageContent != null) {\r\n                        articleImageArea\r\n                            .css(imageAreaDimensions)\r\n                            .attr(\"src\", articleImageContent + \"?\" + imageSize);\r\n                    } else {\r\n                        articleImageArea\r\n                            .css(placeHolderImageAreaDimensions)\r\n                            .attr(\"src\", placeHolderImage);\r\n                    }\r\n                    imageCount++;\r\n                });\r\n        });\r\n    }\r\n});\r\n"]}